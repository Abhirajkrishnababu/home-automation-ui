<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Voice Home Automation (Prototype)</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #050810;
      color: #f5f5f5;
    }

    .app-shell {
      width: 90%;
      max-width: 900px;
      padding: 24px;
      border-radius: 24px;
      background: radial-gradient(circle at top, #141b2d, #050810);
      border: 3px solid #555;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
      transition: border 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    /* Diwali rainbow border animation */
    .diwali-border {
      animation: rainbow-border 3s linear infinite;
      border-width: 4px;
    }

    @keyframes rainbow-border {
      0%   { border-image: linear-gradient(90deg, red, orange) 1; }
      16%  { border-image: linear-gradient(90deg, orange, yellow) 1; }
      32%  { border-image: linear-gradient(90deg, yellow, green) 1; }
      48%  { border-image: linear-gradient(90deg, green, blue) 1; }
      64%  { border-image: linear-gradient(90deg, blue, indigo) 1; }
      80%  { border-image: linear-gradient(90deg, indigo, violet) 1; }
      100% { border-image: linear-gradient(90deg, violet, red) 1; }
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .title {
      font-size: 1.4rem;
      font-weight: 600;
    }

    .subtitle {
      font-size: 0.85rem;
      color: #9ca3af;
    }

    .command-panel {
      margin: 16px 0 20px;
      display: flex;
      gap: 8px;
    }

    .command-input {
      flex: 1;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #333;
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      outline: none;
    }

    .command-input::placeholder {
      color: #6b7280;
    }

    .btn {
      padding: 10px 14px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      background: #2563eb;
      color: white;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
      white-space: nowrap;
    }

    .btn:active {
      transform: translateY(1px);
      box-shadow: 0 0 0;
    }

    .btn.secondary {
      background: #111827;
      border: 1px solid #374151;
      color: #e5e7eb;
    }

    .status-line {
      font-size: 0.85rem;
      color: #9ca3af;
      margin-bottom: 12px;
      min-height: 18px;
    }

    .devices-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 14px;
      margin-bottom: 16px;
    }

    .device-card {
      padding: 14px;
      border-radius: 16px;
      background: #0b1120;
      border: 1px solid #1f2933;
      display: flex;
      flex-direction: column;
      gap: 6px;
      transition: background 0.2s ease, border 0.2s ease, box-shadow 0.2s ease;
    }

    .device-name {
      font-size: 0.95rem;
      font-weight: 500;
    }

    .device-status {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      margin-top: 4px;
    }

    /* OFF state (default) */
    .device-off {
      background: #0b1120;
      border-color: #1f2937;
      box-shadow: none;
    }

    .device-off .chip {
      background: #111827;
      color: #9ca3af;
    }

    /* Light ON â†’ yellow */
    .device-light-on {
      background: radial-gradient(circle at top, #fde68a, #92400e);
      border-color: #fbbf24;
      box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
    }

    .device-light-on .chip {
      background: rgba(31, 41, 55, 0.75);
      color: #fef3c7;
    }

    /* Fan ON â†’ green */
    .device-fan-on {
      background: radial-gradient(circle at top, #bbf7d0, #166534);
      border-color: #22c55e;
      box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
    }

    .device-fan-on .chip {
      background: rgba(15, 23, 42, 0.7);
      color: #dcfce7;
    }

    /* Charging ON â†’ green (slightly different tone) */
    .device-charge-on {
      background: radial-gradient(circle at top, #a7f3d0, #047857);
      border-color: #10b981;
      box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
    }

    .device-charge-on .chip {
      background: rgba(15, 23, 42, 0.7);
      color: #d1fae5;
    }

    /* Lock ON (Locked) â†’ red */
    .device-lock-on {
      background: radial-gradient(circle at top, #fecaca, #7f1d1d);
      border-color: #f97373;
      box-shadow: 0 0 20px rgba(248, 113, 113, 0.5);
    }

    .device-lock-on .chip {
      background: rgba(15, 23, 42, 0.7);
      color: #fee2e2;
    }

    .footer-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: flex-end;
      margin-top: 4px;
    }

    .small {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
  </style>
</head>
<body>
  <div class="app-shell" id="appShell">
    <div class="header">
      <div>
        <div class="title">AI-Based Voice Command Home Automation</div>
        <div class="subtitle">Software-only prototype Â· Command â†’ State change demo</div>
      </div>
    </div>

    <!-- Command input / later this will be replaced with real voice -->
    <div class="command-panel">
      <input
        id="commandInput"
        class="command-input"
        type="text"
        placeholder='Type a command (e.g. "turn on lights", "lock the door", "happy diwali")'
      />
      <button class="btn" onclick="handleCommand()">Run</button>
    </div>

    <div class="status-line" id="statusLine">
      Awaiting commandâ€¦
    </div>

    <!-- Devices -->
    <div class="devices-grid">
      <div id="cardLight" class="device-card device-off">
        <div class="device-name">Bulb / Lights</div>
        <div class="device-status" id="statusLight">Status: OFF</div>
        <div class="chip" id="chipLight">OFF</div>
      </div>

      <div id="cardFan" class="device-card device-off">
        <div class="device-name">Fan</div>
        <div class="device-status" id="statusFan">Status: OFF</div>
        <div class="chip" id="chipFan">OFF</div>
      </div>

      <div id="cardCharge" class="device-card device-off">
        <div class="device-name">Charging</div>
        <div class="device-status" id="statusCharge">Status: OFF</div>
        <div class="chip" id="chipCharge">OFF</div>
      </div>

      <div id="cardLock" class="device-card device-off">
        <div class="device-name">Door Lock</div>
        <div class="device-status" id="statusLock">Status: UNLOCKED</div>
        <div class="chip" id="chipLock">UNLOCKED</div>
      </div>
    </div>

    <div class="footer-actions">
      <button class="btn secondary" onclick="resetDevices()">Reset Devices</button>
      <button class="btn secondary" onclick="clearDiwali()">Clear Diwali Effect</button>
    </div>

    <div class="small">
      Later: this text command will be replaced by real voice input & admin voice authentication.
    </div>
  </div>

  <script>
    const appShell = document.getElementById("appShell");
    const statusLine = document.getElementById("statusLine");
    const commandInput = document.getElementById("commandInput");

    // Device card refs
    const cardLight = document.getElementById("cardLight");
    const statusLight = document.getElementById("statusLight");
    const chipLight = document.getElementById("chipLight");

    const cardFan = document.getElementById("cardFan");
    const statusFan = document.getElementById("statusFan");
    const chipFan = document.getElementById("chipFan");

    const cardCharge = document.getElementById("cardCharge");
    const statusCharge = document.getElementById("statusCharge");
    const chipCharge = document.getElementById("chipCharge");

    const cardLock = document.getElementById("cardLock");
    const statusLock = document.getElementById("statusLock");
    const chipLock = document.getElementById("chipLock");

    function setStatus(text) {
      statusLine.textContent = text;
    }

    function resetDevices() {
      cardLight.className = "device-card device-off";
      statusLight.textContent = "Status: OFF";
      chipLight.textContent = "OFF";

      cardFan.className = "device-card device-off";
      statusFan.textContent = "Status: OFF";
      chipFan.textContent = "OFF";

      cardCharge.className = "device-card device-off";
      statusCharge.textContent = "Status: OFF";
      chipCharge.textContent = "OFF";

      cardLock.className = "device-card device-off";
      statusLock.textContent = "Status: UNLOCKED";
      chipLock.textContent = "UNLOCKED";

      setStatus("All devices reset to default state.");
    }

    function clearDiwali() {
      appShell.classList.remove("diwali-border");
      setStatus("Diwali effect cleared.");
    }

    function applyDiwaliEffect() {
      appShell.classList.add("diwali-border");
      setStatus("Diwali mode enabled! ðŸŽ‰");
    }

    function handleCommand() {
      const raw = commandInput.value.trim();
      if (!raw) {
        setStatus("Please type a command.");
        return;
      }

      const cmd = raw.toLowerCase();
      commandInput.value = "";
      console.log("Command:", cmd);

      // HAPPY DIWALI EFFECT
      if (cmd.includes("happy diwali")) {
        applyDiwaliEffect();
        return;
      }

      // LIGHTS
      if (cmd.includes("light")) {
        if (cmd.includes("on")) {
          cardLight.className = "device-card device-light-on";
          statusLight.textContent = "Status: ON";
          chipLight.textContent = "ON";
          setStatus('Lights turned ON.');
        } else if (cmd.includes("off")) {
          cardLight.className = "device-card device-off";
          statusLight.textContent = "Status: OFF";
          chipLight.textContent = "OFF";
          setStatus('Lights turned OFF.');
        }
      }

      // FAN
      if (cmd.includes("fan")) {
        if (cmd.includes("on")) {
          cardFan.className = "device-card device-fan-on";
          statusFan.textContent = "Status: ON";
          chipFan.textContent = "ON";
          setStatus('Fan turned ON.');
        } else if (cmd.includes("off")) {
          cardFan.className = "device-card device-off";
          statusFan.textContent = "Status: OFF";
          chipFan.textContent = "OFF";
          setStatus('Fan turned OFF.');
        }
      }

      // CHARGING
      if (cmd.includes("charge") || cmd.includes("charging")) {
        if (cmd.includes("on") || cmd.includes("start")) {
          cardCharge.className = "device-card device-charge-on";
          statusCharge.textContent = "Status: CHARGING";
          chipCharge.textContent = "ON";
          setStatus('Charging started.');
        } else if (cmd.includes("off") || cmd.includes("stop")) {
          cardCharge.className = "device-card device-off";
          statusCharge.textContent = "Status: OFF";
          chipCharge.textContent = "OFF";
          setStatus('Charging stopped.');
        }
      }

      // DOOR LOCK
      if (cmd.includes("lock")) {
        if (cmd.includes("unlock") || cmd.includes("open")) {
          // unlock
          cardLock.className = "device-card device-off";
          statusLock.textContent = "Status: UNLOCKED";
          chipLock.textContent = "UNLOCKED";
          setStatus('Door unlocked.');
        } else {
          // lock
          cardLock.className = "device-card device-lock-on";
          statusLock.textContent = "Status: LOCKED";
          chipLock.textContent = "LOCKED";
          setStatus('Door locked.');
        }
      }
    }

    // Run command on Enter key
    commandInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        handleCommand();
      }
    });
  </script>
</body>
</html>
